<?php

namespace DCorePHPTests\Sdk;

use DCorePHP\Model\BalanceChange;
use DCorePHP\Model\ChainObject;
use DCorePHP\Model\OperationHistory;
use DCorePHP\Net\Model\Request\BaseRequest;
use DCorePHP\Net\Model\Request\GetAccountBalanceForTransaction;
use DCorePHP\Net\Model\Request\GetAccountHistory;
use DCorePHP\Net\Model\Request\GetRelativeAccountHistory;
use DCorePHP\Net\Model\Request\History;
use DCorePHP\Net\Model\Request\Login;
use DCorePHP\Net\Model\Request\SearchAccountBalanceHistory;
use DCorePHP\Net\Model\Response\BaseResponse;
use DCorePHPTests\DCoreSDKTest;

class HistoryApiTest extends DCoreSDKTest
{
    /**
     * @throws \DCorePHP\Exception\InvalidApiCallException
     * @throws \DCorePHP\Exception\ValidationException
     * @throws \DCorePHP\Model\InvalidOperationTypeException
     * @throws \WebSocket\BadOpcodeException
     */
    public function testGetOperation(): void
    {
        if ($this->websocketMock) {
            $this->websocketMock
                ->expects($this->exactly(3))
                ->method('send')
                ->withConsecutive(
                    [$this->callback(function(BaseRequest $req) { return $req->setId(1)->toJson() === '{"jsonrpc":"2.0","id":1,"method":"call","params":[1,"login",["",""]]}'; })],
                    [$this->callback(function(BaseRequest $req) { return $req->setId(2)->toJson() === '{"jsonrpc":"2.0","id":2,"method":"call","params":[1,"history",["",""]]}'; })],
                    [$this->callback(function(BaseRequest $req) { return $req->setId(3)->toJson() === '{"jsonrpc":"2.0","id":3,"method":"call","params":[6,"get_account_balance_for_transaction",["1.2.34","1.7.7570"]]}'; })]
                )
                ->will($this->onConsecutiveCalls(
                    Login::responseToModel(new BaseResponse('{"id":1,"result":true}')),
                    History::responseToModel(new BaseResponse('{"id":2,"result":6}')),
                    GetAccountBalanceForTransaction::responseToModel(new BaseResponse('{"id":3,"result":{"hist_object":{"id":"1.7.7570","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1,"asset_id":"1.3.0"},"extensions":[]}],"result":[0,{}],"block_num":2447775,"trx_in_block":0,"op_in_trx":0,"virtual_op":7595},"balance":{"asset0":{"amount":-1,"asset_id":"1.3.0"},"asset1":{"amount":0,"asset_id":"1.3.0"}},"fee":{"amount":500000,"asset_id":"1.3.0"}}}'))
                ));
        }

        $operation = $this->sdk->getHistoryApi()->getOperation(new ChainObject('1.2.34'), new ChainObject('1.7.7570'));
        $this->assertEquals('2447775', $operation->getOperation()->getBlockNum());
        $this->assertEquals('7595', $operation->getOperation()->getVirtualOperation());
        $this->assertEquals(500000, $operation->getFee()->getAmount());
    }

    /**
     * @throws \DCorePHP\Exception\InvalidApiCallException
     * @throws \DCorePHP\Model\InvalidOperationTypeException
     * @throws \DCorePHP\Net\Model\Request\CouldNotParseOperationTypeException
     * @throws \WebSocket\BadOpcodeException
     * @throws \DCorePHP\Exception\ValidationException
     */
    public function testListOperations(): void
    {
        if ($this->websocketMock) {
            $this->websocketMock
                ->expects($this->exactly(3))
                ->method('send')
                ->withConsecutive(
                    [$this->callback(function(BaseRequest $req) { return $req->setId(1)->toJson() === '{"jsonrpc":"2.0","id":1,"method":"call","params":[1,"login",["",""]]}'; })],
                    [$this->callback(function(BaseRequest $req) { return $req->setId(2)->toJson() === '{"jsonrpc":"2.0","id":2,"method":"call","params":[1,"history",["",""]]}'; })],
                    [$this->callback(function(BaseRequest $req) { return $req->setId(3)->toJson() === '{"jsonrpc":"2.0","id":3,"method":"call","params":[6,"get_account_history",["1.2.34","1.7.0",100,"1.7.0"]]}'; })]
                )
                ->will($this->onConsecutiveCalls(
                    Login::responseToModel(new BaseResponse('{"id":1,"result":true}')),
                    History::responseToModel(new BaseResponse('{"id":2,"result":6}')),
                    GetAccountHistory::responseToModel(new BaseResponse('{"id":3,"result":[{"id":"1.7.59659","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15500506128071447","message":"e912883dce55f7a60b29dda405531011fcd0583da5eade7c445d2b97c79afdde0cf8ed811ea6422ea8416cf852e461a28062d884f163b5264ec68e838819624d"},"extensions":[]}],"result":[0,{}],"block_num":4232995,"trx_in_block":0,"op_in_trx":0,"virtual_op":63253},{"id":"1.7.59658","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.492","consumer":"1.2.34"}],"result":[0,{}],"block_num":4232913,"trx_in_block":4,"op_in_trx":0,"virtual_op":63250},{"id":"1.7.59657","op":[21,{"fee":{"amount":0,"asset_id":"1.3.0"},"URI":"http://decent.ch?testtime=1550050109","consumer":"1.2.34","price":{"amount":100000000,"asset_id":"1.3.0"},"region_code_from":1,"pubKey":{"s":"5182545488318095000498180568539728214545472470974958338942426759510121851708530625921436777555517288139787965253547588340803542762268721656138876002028437."}}],"result":[0,{}],"block_num":4232913,"trx_in_block":4,"op_in_trx":0,"virtual_op":63249},{"id":"1.7.59656","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://decent.ch?testtime=1550050109","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4232913,"trx_in_block":3,"op_in_trx":0,"virtual_op":63248},{"id":"1.7.59655","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4232913,"trx_in_block":2,"op_in_trx":0,"virtual_op":63247},{"id":"1.7.59654","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21550050106","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"options":{"memo_key":"DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12581"],"block_num":4232913,"trx_in_block":1,"op_in_trx":0,"virtual_op":63246},{"id":"1.7.59653","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11550050104","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12580"],"block_num":4232913,"trx_in_block":0,"op_in_trx":0,"virtual_op":63245},{"id":"1.7.59652","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15500501016874947","message":"ff5e245f0e8eadd23aca901f99dc54499dc680369d4a69b356d0d7da4b0e191b6f617aa313772eea7179ef5d409f9bc9a37fe6ba4c781894cc1f37f7c872d561"},"extensions":[]}],"result":[0,{}],"block_num":4232912,"trx_in_block":0,"op_in_trx":0,"virtual_op":63232},{"id":"1.7.59651","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.491","consumer":"1.2.34"}],"result":[0,{}],"block_num":4232864,"trx_in_block":5,"op_in_trx":0,"virtual_op":63229},{"id":"1.7.59650","op":[21,{"fee":{"amount":0,"asset_id":"1.3.0"},"URI":"http://decent.ch?testtime=1550049810","consumer":"1.2.34","price":{"amount":100000000,"asset_id":"1.3.0"},"region_code_from":1,"pubKey":{"s":"5182545488318095000498180568539728214545472470974958338942426759510121851708530625921436777555517288139787965253547588340803542762268721656138876002028437."}}],"result":[0,{}],"block_num":4232864,"trx_in_block":5,"op_in_trx":0,"virtual_op":63228},{"id":"1.7.59649","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://decent.ch?testtime=1550049810","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4232864,"trx_in_block":4,"op_in_trx":0,"virtual_op":63227},{"id":"1.7.59648","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4232864,"trx_in_block":3,"op_in_trx":0,"virtual_op":63226},{"id":"1.7.59647","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21550049807","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"options":{"memo_key":"DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12579"],"block_num":4232864,"trx_in_block":2,"op_in_trx":0,"virtual_op":63225},{"id":"1.7.59646","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11550049807","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12578"],"block_num":4232864,"trx_in_block":1,"op_in_trx":0,"virtual_op":63224},{"id":"1.7.59645","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15500498061324818","message":"91d6afd450fdfdb71c99df6c9a7c160abf3e5a52d3f848a41431998ee92a5db29a3e673532ee5d79d7098a8d71c0ce98b349e2c7266c26c7679abba634f0c935"},"extensions":[]}],"result":[0,{}],"block_num":4232864,"trx_in_block":0,"op_in_trx":0,"virtual_op":63223},{"id":"1.7.59644","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.490","consumer":"1.2.34"}],"result":[0,{}],"block_num":4232840,"trx_in_block":1,"op_in_trx":0,"virtual_op":63208},{"id":"1.7.59643","op":[21,{"fee":{"amount":0,"asset_id":"1.3.0"},"URI":"http://decent.ch?testtime=1550049664","consumer":"1.2.34","price":{"amount":100000000,"asset_id":"1.3.0"},"region_code_from":1,"pubKey":{"s":"5182545488318095000498180568539728214545472470974958338942426759510121851708530625921436777555517288139787965253547588340803542762268721656138876002028437."}}],"result":[0,{}],"block_num":4232840,"trx_in_block":1,"op_in_trx":0,"virtual_op":63207},{"id":"1.7.59642","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://decent.ch?testtime=1550049664","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4232840,"trx_in_block":0,"op_in_trx":0,"virtual_op":63206},{"id":"1.7.59641","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4232839,"trx_in_block":3,"op_in_trx":0,"virtual_op":63199},{"id":"1.7.59640","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21550049659","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"options":{"memo_key":"DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12577"],"block_num":4232839,"trx_in_block":2,"op_in_trx":0,"virtual_op":63198},{"id":"1.7.59639","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11550049659","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12576"],"block_num":4232839,"trx_in_block":1,"op_in_trx":0,"virtual_op":63197},{"id":"1.7.59638","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15500496580099983","message":"79ef05a6c0d7e90197cc05c9a677e3d4918a91a8f421162055721fa64711e0edd87d82f6cf401b4695c6f089087462fac789037bbf83aa8cff601d2dd92da394"},"extensions":[]}],"result":[0,{}],"block_num":4232839,"trx_in_block":0,"op_in_trx":0,"virtual_op":63196},{"id":"1.7.59637","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4232829,"trx_in_block":3,"op_in_trx":0,"virtual_op":63187},{"id":"1.7.59636","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21550049605","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"options":{"memo_key":"DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12575"],"block_num":4232829,"trx_in_block":2,"op_in_trx":0,"virtual_op":63186},{"id":"1.7.59635","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11550049604","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12574"],"block_num":4232829,"trx_in_block":1,"op_in_trx":0,"virtual_op":63185},{"id":"1.7.59634","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15500496032514825","message":"a999ba8da5fbf980956e7e0ac7e7d9cf7c9e94d11f8b947aff0c404d80c22c503195746b495251014cb8bc4b88d3a9fc171260d4cc5264376a5cbeed875f599b"},"extensions":[]}],"result":[0,{}],"block_num":4232829,"trx_in_block":0,"op_in_trx":0,"virtual_op":63184},{"id":"1.7.59633","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21550049573","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"options":{"memo_key":"DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12573"],"block_num":4232824,"trx_in_block":0,"op_in_trx":0,"virtual_op":63175},{"id":"1.7.59632","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.489","consumer":"1.2.34"}],"result":[0,{}],"block_num":4232719,"trx_in_block":4,"op_in_trx":0,"virtual_op":63172},{"id":"1.7.59631","op":[21,{"fee":{"amount":0,"asset_id":"1.3.0"},"URI":"http://decent.ch?testtime=1550048924","consumer":"1.2.34","price":{"amount":100000000,"asset_id":"1.3.0"},"region_code_from":1,"pubKey":{"s":"5182545488318095000498180568539728214545472470974958338942426759510121851708530625921436777555517288139787965253547588340803542762268721656138876002028437."}}],"result":[0,{}],"block_num":4232719,"trx_in_block":4,"op_in_trx":0,"virtual_op":63171},{"id":"1.7.59630","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://decent.ch?testtime=1550048924","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4232719,"trx_in_block":3,"op_in_trx":0,"virtual_op":63170},{"id":"1.7.59629","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4232719,"trx_in_block":2,"op_in_trx":0,"virtual_op":63169},{"id":"1.7.59628","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21550048921","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"options":{"memo_key":"DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12572"],"block_num":4232719,"trx_in_block":1,"op_in_trx":0,"virtual_op":63168},{"id":"1.7.59627","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15500489191808954","message":"fecc14cebb7bb69f1074143a74df0ec5fcb75abb69a79c33345aa82b5c32e45f6104879c981a903196537cf35852ecc1c32b516be22ce938f3484fcc922834bf"},"extensions":[]}],"result":[0,{}],"block_num":4232719,"trx_in_block":0,"op_in_trx":0,"virtual_op":63167},{"id":"1.7.59581","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4221478,"trx_in_block":1,"op_in_trx":0,"virtual_op":63018},{"id":"1.7.59580","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549980419","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"options":{"memo_key":"DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12570"],"block_num":4221478,"trx_in_block":0,"op_in_trx":0,"virtual_op":63017},{"id":"1.7.59579","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549980418","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12569"],"block_num":4221477,"trx_in_block":1,"op_in_trx":0,"virtual_op":63012},{"id":"1.7.59578","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499804154119149","message":"0e02b478b3a782f1ee07336dbf01beca04d140f5e455dce2b56b584fefdd0538bfa87d1df0b7f096f8bdf31c777c800312e6a3bac1c454ce43e33b77c16dfd30"},"extensions":[]}],"result":[0,{}],"block_num":4221477,"trx_in_block":0,"op_in_trx":0,"virtual_op":63011},{"id":"1.7.59567","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549976722","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12568"],"block_num":4220873,"trx_in_block":1,"op_in_trx":0,"virtual_op":62976},{"id":"1.7.59566","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549976718","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12567"],"block_num":4220873,"trx_in_block":0,"op_in_trx":0,"virtual_op":62975},{"id":"1.7.59565","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499767175092593","message":"24910d1c4f838262d87099315502db71849cf6a99026e081fb2893f834062e7f1b4e56ef94f418f6038c839e5ec5dc4b4be885da5fb5321439236b283cfae111"},"extensions":[]}],"result":[0,{}],"block_num":4220872,"trx_in_block":0,"op_in_trx":0,"virtual_op":62970},{"id":"1.7.59564","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549976711","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12566"],"block_num":4220871,"trx_in_block":2,"op_in_trx":0,"virtual_op":62967},{"id":"1.7.59563","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549976709","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12565"],"block_num":4220871,"trx_in_block":1,"op_in_trx":0,"virtual_op":62966},{"id":"1.7.59562","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"1549976707879842","message":"91844af1a546688ae40bd7702aac48c41ab6ffd12a6c97b02ca803c1cf84d9c33146a96668c85e261e6e2624378f2e517387bb71efdfb4f1b41e47c349063cfe"},"extensions":[]}],"result":[0,{}],"block_num":4220871,"trx_in_block":0,"op_in_trx":0,"virtual_op":62965},{"id":"1.7.59561","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549976700","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12564"],"block_num":4220869,"trx_in_block":2,"op_in_trx":0,"virtual_op":62958},{"id":"1.7.59560","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549976700","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12563"],"block_num":4220869,"trx_in_block":1,"op_in_trx":0,"virtual_op":62957},{"id":"1.7.59559","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499766989017816","message":"ef7d21f1a47a097439f0e1618b4b75e7d9b38ac92821c28afcebae464fdf39842e21d63d305def4767055dbe34c7bb60a30d4dbb218ed0c68bb557fda7ff9bd2"},"extensions":[]}],"result":[0,{}],"block_num":4220869,"trx_in_block":0,"op_in_trx":0,"virtual_op":62956},{"id":"1.7.59558","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549976692","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12562"],"block_num":4220868,"trx_in_block":1,"op_in_trx":0,"virtual_op":62949},{"id":"1.7.59557","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499766900237226","message":"058591dbd94318b949edff30cfb7b0e9cada5586e15b8791b2c8e46c771419ca4f416f3cefd71d4c0233f359853e64d78b9af07b12de6ad158860ec769b19739"},"extensions":[]}],"result":[0,{}],"block_num":4220868,"trx_in_block":0,"op_in_trx":0,"virtual_op":62948},{"id":"1.7.59556","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549976682","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12561"],"block_num":4220866,"trx_in_block":2,"op_in_trx":0,"virtual_op":62943},{"id":"1.7.59555","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549976680","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12560"],"block_num":4220866,"trx_in_block":1,"op_in_trx":0,"virtual_op":62942},{"id":"1.7.59554","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499766790068627","message":"1c674669c36fc059b9d1efe6e78cbf52d4af52bccafec7152a25fba243afb85922966514eeb15dca517fc8a2d4c4ca5745048da7f5caef2aefc596d8d06864be"},"extensions":[]}],"result":[0,{}],"block_num":4220866,"trx_in_block":0,"op_in_trx":0,"virtual_op":62941},{"id":"1.7.59553","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549976666","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12559"],"block_num":4220864,"trx_in_block":4,"op_in_trx":0,"virtual_op":62934},{"id":"1.7.59552","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549976665","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12558"],"block_num":4220864,"trx_in_block":3,"op_in_trx":0,"virtual_op":62933},{"id":"1.7.59551","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499766645769692","message":"ab65d4ad3395e384283a50327dc4339b50b3da3ffadc1bf232988f2aa4d6f393f286c11bd69429157aa76e3fad1356bb4a5f6c194780e8876e4ab2080a097eea"},"extensions":[]}],"result":[0,{}],"block_num":4220864,"trx_in_block":2,"op_in_trx":0,"virtual_op":62932},{"id":"1.7.59550","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549976659","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12557"],"block_num":4220864,"trx_in_block":1,"op_in_trx":0,"virtual_op":62931},{"id":"1.7.59549","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549976658","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12556"],"block_num":4220864,"trx_in_block":0,"op_in_trx":0,"virtual_op":62930},{"id":"1.7.59548","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499766569091482","message":"dac8ca1009b86534633d57ce005314f7064f18b5cc532ce28620bfccccc0428aaf74fbf92869dd37a13612442415ad6c439f85644d4c75773dd3768793679455"},"extensions":[]}],"result":[0,{}],"block_num":4220863,"trx_in_block":0,"op_in_trx":0,"virtual_op":62919},{"id":"1.7.59547","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549976650","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12555"],"block_num":4220862,"trx_in_block":2,"op_in_trx":0,"virtual_op":62916},{"id":"1.7.59546","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549976650","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12554"],"block_num":4220862,"trx_in_block":1,"op_in_trx":0,"virtual_op":62915},{"id":"1.7.59545","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499766490995944","message":"92dee779e5413021418d24f304a21b292407edeed890ceba601e8ff133cb3221dd01c7ef8150c8482048ec25d0396af8333c6fdfd61f3617291845b692598676"},"extensions":[]}],"result":[0,{}],"block_num":4220862,"trx_in_block":0,"op_in_trx":0,"virtual_op":62914},{"id":"1.7.59544","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549976643","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12553"],"block_num":4220861,"trx_in_block":0,"op_in_trx":0,"virtual_op":62907},{"id":"1.7.59543","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549976642","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12552"],"block_num":4220860,"trx_in_block":1,"op_in_trx":0,"virtual_op":62904},{"id":"1.7.59542","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499766417417900","message":"cfc35eeee7cb5b904f01cac3b1471a58f49a447a40a600112a71098aab9fc7748bc4c9a430fab7166a8553d9a2e8707ee76eff952aaaf3c5ea42ae102f514d7a"},"extensions":[]}],"result":[0,{}],"block_num":4220860,"trx_in_block":0,"op_in_trx":0,"virtual_op":62903},{"id":"1.7.59541","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549976635","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12551"],"block_num":4220859,"trx_in_block":2,"op_in_trx":0,"virtual_op":62898},{"id":"1.7.59540","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549976635","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12550"],"block_num":4220859,"trx_in_block":1,"op_in_trx":0,"virtual_op":62897},{"id":"1.7.59539","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"1549976633547605","message":"118cfd6fb70f179a59b67ea1b18cb92c64c774549272a0e43225a4c5a60749ccab2c0432a8b4435a26e92091df2a68a27f5203dba5bb11a44c6552098efb8021"},"extensions":[]}],"result":[0,{}],"block_num":4220859,"trx_in_block":0,"op_in_trx":0,"virtual_op":62896},{"id":"1.7.59533","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.482","consumer":"1.2.34"}],"result":[0,{}],"block_num":4220689,"trx_in_block":1,"op_in_trx":0,"virtual_op":62874},{"id":"1.7.59532","op":[21,{"fee":{"amount":0,"asset_id":"1.3.0"},"URI":"http://decent.ch?testtime=1549975587","consumer":"1.2.34","price":{"amount":100000000,"asset_id":"1.3.0"},"region_code_from":1,"pubKey":{"s":"5182545488318095000498180568539728214545472470974958338942426759510121851708530625921436777555517288139787965253547588340803542762268721656138876002028437."}}],"result":[0,{}],"block_num":4220689,"trx_in_block":1,"op_in_trx":0,"virtual_op":62873},{"id":"1.7.59531","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://decent.ch?testtime=1549975587","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4220689,"trx_in_block":0,"op_in_trx":0,"virtual_op":62872},{"id":"1.7.59530","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4220688,"trx_in_block":3,"op_in_trx":0,"virtual_op":62865},{"id":"1.7.59529","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549975585","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12548"],"block_num":4220688,"trx_in_block":2,"op_in_trx":0,"virtual_op":62864},{"id":"1.7.59528","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549975584","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12547"],"block_num":4220688,"trx_in_block":1,"op_in_trx":0,"virtual_op":62863},{"id":"1.7.59527","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"1549975582522529","message":"4369d383fd7f882ac2b149266922d6cc52bbb6a3fb3b3da9c9801c636155cb85d3111fe587cd4b572da328337483ac4034fced18cc768e75576b58199549fa02"},"extensions":[]}],"result":[0,{}],"block_num":4220688,"trx_in_block":0,"op_in_trx":0,"virtual_op":62862},{"id":"1.7.59526","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.481","consumer":"1.2.34"}],"result":[0,{}],"block_num":4220686,"trx_in_block":5,"op_in_trx":0,"virtual_op":62853},{"id":"1.7.59525","op":[21,{"fee":{"amount":0,"asset_id":"1.3.0"},"URI":"http://decent.ch?testtime=1549975568","consumer":"1.2.34","price":{"amount":100000000,"asset_id":"1.3.0"},"region_code_from":1,"pubKey":{"s":"5182545488318095000498180568539728214545472470974958338942426759510121851708530625921436777555517288139787965253547588340803542762268721656138876002028437."}}],"result":[0,{}],"block_num":4220686,"trx_in_block":5,"op_in_trx":0,"virtual_op":62852},{"id":"1.7.59524","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://decent.ch?testtime=1549975568","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4220686,"trx_in_block":4,"op_in_trx":0,"virtual_op":62851},{"id":"1.7.59523","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4220686,"trx_in_block":3,"op_in_trx":0,"virtual_op":62850},{"id":"1.7.59522","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549975565","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12546"],"block_num":4220686,"trx_in_block":2,"op_in_trx":0,"virtual_op":62849},{"id":"1.7.59521","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549975564","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12545"],"block_num":4220686,"trx_in_block":1,"op_in_trx":0,"virtual_op":62848},{"id":"1.7.59520","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"1549975563533595","message":"4a34624a20a1bece6c838ffe2732990f909ebb4038f08c1599146d73ccd0791e9fd67f116b21e4cad8208e8a270bd1a2c0957caa37e4ec957c507a16a56d6261"},"extensions":[]}],"result":[0,{}],"block_num":4220686,"trx_in_block":0,"op_in_trx":0,"virtual_op":62847},{"id":"1.7.59519","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.480","consumer":"1.2.34"}],"result":[0,{}],"block_num":4220682,"trx_in_block":3,"op_in_trx":0,"virtual_op":62832},{"id":"1.7.59518","op":[21,{"fee":{"amount":0,"asset_id":"1.3.0"},"URI":"http://decent.ch?testtime=1549975545","consumer":"1.2.34","price":{"amount":100000000,"asset_id":"1.3.0"},"region_code_from":1,"pubKey":{"s":"5182545488318095000498180568539728214545472470974958338942426759510121851708530625921436777555517288139787965253547588340803542762268721656138876002028437."}}],"result":[0,{}],"block_num":4220682,"trx_in_block":3,"op_in_trx":0,"virtual_op":62831},{"id":"1.7.59517","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://decent.ch?testtime=1549975545","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4220682,"trx_in_block":2,"op_in_trx":0,"virtual_op":62830},{"id":"1.7.59516","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4220682,"trx_in_block":1,"op_in_trx":0,"virtual_op":62829},{"id":"1.7.59515","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549975540","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12544"],"block_num":4220682,"trx_in_block":0,"op_in_trx":0,"virtual_op":62828},{"id":"1.7.59514","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549975539","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12543"],"block_num":4220681,"trx_in_block":1,"op_in_trx":0,"virtual_op":62817},{"id":"1.7.59513","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499755384114591","message":"f418e9e33411ba06b5aa9db59f356a81e1e9f630ee9a0ea2d47807b6aeb05e33d02d2134ea5dab88e18eb245bab9642ec7c7d5cfaffb826f760c39cd4c0b3abd"},"extensions":[]}],"result":[0,{}],"block_num":4220681,"trx_in_block":0,"op_in_trx":0,"virtual_op":62816},{"id":"1.7.59510","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://decent.ch?testtime=1549975442","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4220665,"trx_in_block":4,"op_in_trx":0,"virtual_op":62805},{"id":"1.7.59509","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4220665,"trx_in_block":3,"op_in_trx":0,"virtual_op":62804},{"id":"1.7.59508","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549975440","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12542"],"block_num":4220665,"trx_in_block":2,"op_in_trx":0,"virtual_op":62803},{"id":"1.7.59507","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549975439","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12541"],"block_num":4220665,"trx_in_block":1,"op_in_trx":0,"virtual_op":62802},{"id":"1.7.59506","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15499754366655969","message":"f8bffcf5c59e90f71dce5a1458cac640b847d10d89d700e255be1455c906904748e6f313beb0c5311753a8fc2ec6a0bc6e00ce576a83e653e90200f9df11c2ac"},"extensions":[]}],"result":[0,{}],"block_num":4220665,"trx_in_block":0,"op_in_trx":0,"virtual_op":62801},{"id":"1.7.59505","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.478","consumer":"1.2.34"}],"result":[0,{}],"block_num":4220662,"trx_in_block":2,"op_in_trx":0,"virtual_op":62790},{"id":"1.7.59504","op":[21,{"fee":{"amount":0,"asset_id":"1.3.0"},"URI":"http://decent.ch?testtime=1549975424","consumer":"1.2.34","price":{"amount":100000000,"asset_id":"1.3.0"},"region_code_from":1,"pubKey":{"s":"5182545488318095000498180568539728214545472470974958338942426759510121851708530625921436777555517288139787965253547588340803542762268721656138876002028437."}}],"result":[0,{}],"block_num":4220662,"trx_in_block":2,"op_in_trx":0,"virtual_op":62789},{"id":"1.7.59503","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://decent.ch?testtime=1549975424","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4220662,"trx_in_block":1,"op_in_trx":0,"virtual_op":62788},{"id":"1.7.59502","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4220662,"trx_in_block":0,"op_in_trx":0,"virtual_op":62787},{"id":"1.7.59501","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21549975422","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw",1]]},"options":{"memo_key":"DCT6BU82XJnfLLtBYsweEVSSsEy3fNNNuZoWxV2mcESjvrH5cLLtw","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12540"],"block_num":4220661,"trx_in_block":2,"op_in_trx":0,"virtual_op":62778},{"id":"1.7.59500","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11549975421","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12539"],"block_num":4220661,"trx_in_block":1,"op_in_trx":0,"virtual_op":62777},{"id":"1.7.59499","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"1549975420734625","message":"ac8ce7ab2447447d89078a600ef684a8421349e9f5d39fc36e45dce45e75534e97e0136cd5ea5efe3df311a5961712ee9d54d25f76a3881bda07b466cd8e251f"},"extensions":[]}],"result":[0,{}],"block_num":4220661,"trx_in_block":0,"op_in_trx":0,"virtual_op":62776},{"id":"1.7.59498","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.477","consumer":"1.2.34"}],"result":[0,{}],"block_num":4220659,"trx_in_block":4,"op_in_trx":0,"virtual_op":62769}]}'))
                ));
        }

        $operations = $this->sdk->getHistoryApi()->listOperations(new ChainObject('1.2.34'), '1.7.0', '1.7.0');

        foreach ($operations as $operation) {
            $this->assertInstanceOf(OperationHistory::class, $operation);
        }
    }

    /**
     * @throws \DCorePHP\Exception\ValidationException
     * @throws \DCorePHP\Model\InvalidOperationTypeException
     */
    public function testListOperationsRelative(): void
    {
        if ($this->websocketMock) {
            $this->websocketMock
                ->expects($this->exactly(3))
                ->method('send')
                ->withConsecutive(
                    [$this->callback(function(BaseRequest $req) { return $req->setId(1)->toJson() === '{"jsonrpc":"2.0","id":1,"method":"call","params":[1,"login",["",""]]}'; })],
                    [$this->callback(function(BaseRequest $req) { return $req->setId(2)->toJson() === '{"jsonrpc":"2.0","id":2,"method":"call","params":[1,"history",["",""]]}'; })],
                    [$this->callback(function(BaseRequest $req) { return $req->setId(3)->toJson() === '{"jsonrpc":"2.0","id":3,"method":"call","params":[6,"get_relative_account_history",["1.2.34",0,10,0]]}'; })]
                )
                ->will($this->onConsecutiveCalls(
                    Login::responseToModel(new BaseResponse('{"id":1,"result":true}')),
                    History::responseToModel(new BaseResponse('{"id":2,"result":6}')),
                    GetRelativeAccountHistory::responseToModel(new BaseResponse('{"id":3,"result":[{"id":"1.7.60140","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.687","amount":{"amount":100000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6MahVeNxrgk8BoLDWh8Gti26hGyWryNp2JmfxNioQpi7VF8sa2","nonce":"10930945587687726551","message":"ee3c11c4a0eaed0f118ad66c3334d944"},"extensions":[]}],"result":[0,{}],"block_num":4417223,"trx_in_block":0,"op_in_trx":0,"virtual_op":64701},{"id":"1.7.60124","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.554","consumer":"1.2.34"}],"result":[0,{}],"block_num":4405185,"trx_in_block":0,"op_in_trx":0,"virtual_op":64653},{"id":"1.7.60123","op":[21,{"fee":{"amount":0,"asset_id":"1.3.0"},"URI":"http://decent.ch?testtime=1551099403","consumer":"1.2.34","price":{"amount":100000000,"asset_id":"1.3.0"},"region_code_from":1,"pubKey":{"s":"5182545488318095000498180568539728214545472470974958338942426759510121851708530625921436777555517288139787965253547588340803542762268721656138876002028437."}}],"result":[0,{}],"block_num":4405185,"trx_in_block":0,"op_in_trx":0,"virtual_op":64652},{"id":"1.7.60122","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://decent.ch?testtime=1551099403","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4405184,"trx_in_block":4,"op_in_trx":0,"virtual_op":64647},{"id":"1.7.60121","op":[20,{"fee":{"amount":0,"asset_id":"1.3.0"},"size":10000,"author":"1.2.34","co_authors":[],"URI":"http://hello.io/world2","quorum":0,"price":[{"region":1,"price":{"amount":1000,"asset_id":"1.3.0"}}],"hash":"2222222222222222222222222222222222222222","seeders":[],"key_parts":[],"expiration":"2019-05-28T13:32:34","publishing_fee":{"amount":1000,"asset_id":"1.3.0"},"synopsis":"{\"title\":\"Game Title\",\"description\":\"Description\",\"content_type_id\":\"1.2.3\"}"}],"result":[0,{}],"block_num":4405184,"trx_in_block":3,"op_in_trx":0,"virtual_op":64646},{"id":"1.7.60120","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky21551099400","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc",1]]},"options":{"memo_key":"DCT88DJFyLe61a218arDrVPmU1tAH625kSbA2bGvJ8SPwEmi7jzEc","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12647"],"block_num":4405184,"trx_in_block":2,"op_in_trx":0,"virtual_op":64645},{"id":"1.7.60119","op":[1,{"fee":{"amount":500000,"asset_id":"1.3.0"},"registrar":"1.2.34","name":"ttibensky11551099399","owner":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"active":{"weight_threshold":1,"account_auths":[],"key_auths":[["DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz",1]]},"options":{"memo_key":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","voting_account":"1.2.3","num_miner":0,"votes":[],"extensions":[],"allow_subscription":false,"price_per_subscribe":{"amount":0,"asset_id":"1.3.0"},"subscription_period":0},"extensions":{}}],"result":[1,"1.2.12646"],"block_num":4405184,"trx_in_block":1,"op_in_trx":0,"virtual_op":64644},{"id":"1.7.60118","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"1.2.35","amount":{"amount":1500000,"asset_id":"1.3.0"},"memo":{"from":"DCT6MA5TQQ6UbMyMaLPmPXE2Syh5G3ZVhv5SbFedqLPqdFChSeqTz","to":"DCT6bVmimtYSvWQtwdrkVVQGHkVsTJZVKtBiUqf4YmJnrJPnk89QP","nonce":"15510993980167123","message":"f00f9725b93a14eae2bf5fe50ee17ab2795946bbac92ae47ced5560e69a5df278d0b9cb69375223ec9bf8e693d673a47e72303f5a01f1792acc7808c7ca0981b"},"extensions":[]}],"result":[0,{}],"block_num":4405184,"trx_in_block":0,"op_in_trx":0,"virtual_op":64643},{"id":"1.7.60117","op":[45,{"fee":{"amount":0,"asset_id":"1.3.0"},"payout":{"amount":100000000,"asset_id":"1.3.0"},"author":"1.2.34","co_authors":[],"buying":"2.12.553","consumer":"1.2.34"}],"result":[0,{}],"block_num":4404219,"trx_in_block":1,"op_in_trx":0,"virtual_op":64632},{"id":"1.7.60116","op":[21,{"fee":{"amount":0,"asset_id":"1.3.0"},"URI":"http://decent.ch?testtime=1551093532","consumer":"1.2.34","price":{"amount":100000000,"asset_id":"1.3.0"},"region_code_from":1,"pubKey":{"s":"5182545488318095000498180568539728214545472470974958338942426759510121851708530625921436777555517288139787965253547588340803542762268721656138876002028437."}}],"result":[0,{}],"block_num":4404219,"trx_in_block":1,"op_in_trx":0,"virtual_op":64631}]}'))
                ));
        }

        $operations = $this->sdk->getHistoryApi()->listOperationsRelative(new ChainObject('1.2.34'), 0, 10);

        foreach ($operations as $operation) {
            $this->assertInstanceOf(OperationHistory::class, $operation);
        }
    }

    /**
     * @throws \DCorePHP\Exception\ValidationException
     * @throws \DCorePHP\Model\InvalidOperationTypeException
     */
    public function testFindAllOperations(): void
    {
        if ($this->websocketMock) {
            $this->websocketMock
                ->expects($this->exactly(3))
                ->method('send')
                ->withConsecutive(
                    [$this->callback(function(BaseRequest $req) { return $req->setId(1)->toJson() === '{"jsonrpc":"2.0","id":1,"method":"call","params":[1,"login",["",""]]}'; })],
                    [$this->callback(function(BaseRequest $req) { return $req->setId(2)->toJson() === '{"jsonrpc":"2.0","id":2,"method":"call","params":[1,"history",["",""]]}'; })],
                    [$this->callback(function(BaseRequest $req) { return $req->setId(3)->toJson() === '{"jsonrpc":"2.0","id":3,"method":"call","params":[6,"search_account_balance_history",["1.2.34",[],null,"0","0","2",3]]}'; })]
                )
                ->will($this->onConsecutiveCalls(
                    Login::responseToModel(new BaseResponse('{"id":1,"result":true}')),
                    History::responseToModel(new BaseResponse('{"id":2,"result":6}')),
                    SearchAccountBalanceHistory::responseToModel(new BaseResponse('{"id":3,"result":[{"hist_object":{"id":"1.7.60148","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"2.13.3","amount":{"amount":1,"asset_id":"1.3.0"},"memo":{"from":"DCT1111111111111111111111111111111114T1Anm","to":"DCT1111111111111111111111111111111114T1Anm","nonce":0,"message":"00000000436f6e74656e74207472616e7366657220746f20"},"extensions":[]}],"result":[0,{}],"block_num":4418520,"trx_in_block":0,"op_in_trx":0,"virtual_op":64725},"balance":{"asset0":{"amount":-1,"asset_id":"1.3.0"},"asset1":{"amount":0,"asset_id":"1.3.0"}},"fee":{"amount":500000,"asset_id":"1.3.0"}},{"hist_object":{"id":"1.7.60147","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"2.13.3","amount":{"amount":1,"asset_id":"1.3.0"},"memo":{"from":"DCT1111111111111111111111111111111114T1Anm","to":"DCT1111111111111111111111111111111114T1Anm","nonce":0,"message":"00000000436f6e74656e74207472616e7366657220746f20"},"extensions":[]}],"result":[0,{}],"block_num":4418519,"trx_in_block":0,"op_in_trx":0,"virtual_op":64722},"balance":{"asset0":{"amount":-1,"asset_id":"1.3.0"},"asset1":{"amount":0,"asset_id":"1.3.0"}},"fee":{"amount":500000,"asset_id":"1.3.0"}},{"hist_object":{"id":"1.7.60146","op":[39,{"fee":{"amount":500000,"asset_id":"1.3.0"},"from":"1.2.34","to":"2.13.3","amount":{"amount":1,"asset_id":"1.3.0"},"memo":{"from":"DCT1111111111111111111111111111111114T1Anm","to":"DCT1111111111111111111111111111111114T1Anm","nonce":0,"message":"00000000436f6e74656e74207472616e7366657220746f20"},"extensions":[]}],"result":[0,{}],"block_num":4418436,"trx_in_block":0,"op_in_trx":0,"virtual_op":64719},"balance":{"asset0":{"amount":-1,"asset_id":"1.3.0"},"asset1":{"amount":0,"asset_id":"1.3.0"}},"fee":{"amount":500000,"asset_id":"1.3.0"}}]}'))
                ));
        }

        $balances = $this->sdk->getHistoryApi()->findAllOperations(new ChainObject('1.2.34'), [], null, '0', '0', '2', 3);

        foreach ($balances as $balance) {
            $this->assertInstanceOf(BalanceChange::class, $balance);
        }
    }

}