<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Decent PHP SDK: src/Sdk/MessagingApi.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Decent PHP SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_20d82e02f531b8e70eaae21244b4dac4.html">Sdk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MessagingApi.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MessagingApi_8php.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?php</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceDCorePHP_1_1Sdk.html">DCorePHP\Sdk</a>;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;use <a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">DCorePHP\Crypto\Credentials</a>;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;use <a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">DCorePHP\Model\ChainObject</a>;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;use <a class="code" href="classDCorePHP_1_1Model_1_1Messaging_1_1Message.html">DCorePHP\Model\Messaging\Message</a>;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;use <a class="code" href="classDCorePHP_1_1Model_1_1Messaging_1_1MessagePayload.html">DCorePHP\Model\Messaging\MessagePayload</a>;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;use <a class="code" href="classDCorePHP_1_1Model_1_1Messaging_1_1MessageResponse.html">DCorePHP\Model\Messaging\MessageResponse</a>;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;use <a class="code" href="classDCorePHP_1_1Model_1_1Operation_1_1SendMessageOperation.html">DCorePHP\Model\Operation\SendMessageOperation</a>;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;use <a class="code" href="classDCorePHP_1_1Model_1_1TransactionConfirmation.html">DCorePHP\Model\TransactionConfirmation</a>;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;use <a class="code" href="classDCorePHP_1_1Net_1_1Model_1_1Request_1_1GetMessageObjects.html">DCorePHP\Net\Model\Request\GetMessageObjects</a>;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;use <a class="code" href="classDCorePHP_1_1Net_1_1Model_1_1Request_1_1Messaging.html">DCorePHP\Net\Model\Request\Messaging</a>;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html">   15</a></span>&#160;<span class="keyword">class </span><a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html">MessagingApi</a> <span class="keyword">extends</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1BaseApi.html">BaseApi</a> implements <a class="code" href="interfaceDCorePHP_1_1Sdk_1_1MessagingApiInterface.html">MessagingApiInterface</a></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#ae03e57246dc089b530516629620ce834">   20</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#ae03e57246dc089b530516629620ce834">getAllOperations</a>(</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">ChainObject</a> $sender = <span class="keyword">null</span>,</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        <a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">ChainObject</a> $receiver = <span class="keyword">null</span>,</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="keywordtype">int</span> $maxCount = 1000</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    ): array {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="keywordflow">return</span> $this-&gt;dcoreApi-&gt;requestWebsocket(<span class="keyword">new</span> <a class="code" href="classDCorePHP_1_1Net_1_1Model_1_1Request_1_1GetMessageObjects.html">GetMessageObjects</a>($sender, $receiver, $maxCount));</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    }</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a7a8462da0af9011058f9b0869700b97b">   31</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a7a8462da0af9011058f9b0869700b97b">getAll</a>(<a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">ChainObject</a> $sender = <span class="keyword">null</span>, <a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">ChainObject</a> $receiver = <span class="keyword">null</span>, <span class="keywordtype">int</span> $maxCount = 1000): array</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">return</span> $this-&gt;flattenMessageResponses($this-&gt;dcoreApi-&gt;requestWebsocket(<span class="keyword">new</span> <a class="code" href="classDCorePHP_1_1Net_1_1Model_1_1Request_1_1GetMessageObjects.html">GetMessageObjects</a>($sender, $receiver, $maxCount)));</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    }</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a0bf6e30c562a274c6ac7cf8bb6f94cb9">   39</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a0bf6e30c562a274c6ac7cf8bb6f94cb9">getAllDecrypted</a>(</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials,</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">ChainObject</a> $sender = <span class="keyword">null</span>,</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">ChainObject</a> $receiver = <span class="keyword">null</span>,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordtype">int</span> $maxCount = 1000</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    ): array {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">return</span> $this-&gt;decryptMessages($this-&gt;<a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a7a8462da0af9011058f9b0869700b97b">getAll</a>($sender, $receiver, $maxCount), $credentials);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a8613176d3261d72102a3035fa719ff05">   51</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a8613176d3261d72102a3035fa719ff05">getAllDecryptedForSender</a>(<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials, <span class="keywordtype">int</span> $maxCount = 1000): array</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a0bf6e30c562a274c6ac7cf8bb6f94cb9">getAllDecrypted</a>($credentials, $credentials-&gt;<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html#a93df7e86089f274b0a89d97ba8ab1b9b">getAccount</a>(), <span class="keyword">null</span>, $maxCount);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a2f22e208f8ea9b0154c395d4c41dc1c8">   59</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a2f22e208f8ea9b0154c395d4c41dc1c8">getAllDecryptedForReceiver</a>(<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials, <span class="keywordtype">int</span> $maxCount = 1000): array</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a0bf6e30c562a274c6ac7cf8bb6f94cb9">getAllDecrypted</a>($credentials, <span class="keyword">null</span>, $credentials-&gt;<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html#a93df7e86089f274b0a89d97ba8ab1b9b">getAccount</a>(), $maxCount);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#ae3972a04b05c6c00500767efcdeaec41">   67</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#ae3972a04b05c6c00500767efcdeaec41">createMessageOperation</a>(<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials, <a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">ChainObject</a> $to, <span class="keywordtype">string</span> $message): <a class="code" href="classDCorePHP_1_1Model_1_1Operation_1_1SendMessageOperation.html">SendMessageOperation</a></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a28b11045fe18a1223ab4f9768c6924f0">createMessageOperationMultiple</a>($credentials, [$to-&gt;<a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html#af887a8cb46a64cb687987b39d301f0e4">getId</a>() =&gt; $message]);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a28b11045fe18a1223ab4f9768c6924f0">   75</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a28b11045fe18a1223ab4f9768c6924f0">createMessageOperationMultiple</a>(<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials, array $messages): <a class="code" href="classDCorePHP_1_1Model_1_1Operation_1_1SendMessageOperation.html">SendMessageOperation</a></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">// TODO: Implement createMessageOperationMultiple() method.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a891e86041da86bab52a049ccf2a9472a">   83</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a891e86041da86bab52a049ccf2a9472a">createMessageOperationUnencrypted</a>(</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">ChainObject</a> $to,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordtype">string</span> $message</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    ):<a class="code" href="classDCorePHP_1_1Model_1_1Operation_1_1SendMessageOperation.html">SendMessageOperation</a> {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a52914fa411845e34b76a48933d0ad323">createMessageOperationUnencryptedMultiple</a>($credentials, [[$to, $message]]);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a52914fa411845e34b76a48933d0ad323">   94</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a52914fa411845e34b76a48933d0ad323">createMessageOperationUnencryptedMultiple</a>(</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials,</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        array $messages</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    ):<a class="code" href="classDCorePHP_1_1Model_1_1Operation_1_1SendMessageOperation.html">SendMessageOperation</a> {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        $messagePayload = <span class="keyword">new</span> <a class="code" href="classDCorePHP_1_1Model_1_1Messaging_1_1MessagePayload.html">MessagePayload</a>($credentials-&gt;<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html#a93df7e86089f274b0a89d97ba8ab1b9b">getAccount</a>(), $messages);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classDCorePHP_1_1Model_1_1Operation_1_1SendMessageOperation.html">SendMessageOperation</a>($messagePayload-&gt;toJson(), $credentials-&gt;<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html#a93df7e86089f274b0a89d97ba8ab1b9b">getAccount</a>());</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a23f462e2a39deb6d9cf30ad13cde6e80">  105</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a23f462e2a39deb6d9cf30ad13cde6e80">send</a>(<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials, <a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">ChainObject</a> $to, <span class="keywordtype">string</span> $message): ?<a class="code" href="classDCorePHP_1_1Model_1_1TransactionConfirmation.html">TransactionConfirmation</a></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">return</span> $this-&gt;dcoreApi-&gt;getBroadcastApi()-&gt;broadcastOperationWithECKeyPairWithCallback(</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            $credentials-&gt;<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html#a3f68f978b08c47a25bb719bad423dafb">getKeyPair</a>(),</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            $this-&gt;<a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#ae3972a04b05c6c00500767efcdeaec41">createMessageOperation</a>($credentials, $to, $message)</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        );</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a51b1942a22fe0cfb47f91b9baf7671b6">  116</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a51b1942a22fe0cfb47f91b9baf7671b6">sendMultiple</a>(<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials, array $messages): ?<a class="code" href="classDCorePHP_1_1Model_1_1TransactionConfirmation.html">TransactionConfirmation</a></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">return</span> $this-&gt;dcoreApi-&gt;getBroadcastApi()-&gt;broadcastOperationWithECKeyPairWithCallback(</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            $credentials-&gt;<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html#a3f68f978b08c47a25bb719bad423dafb">getKeyPair</a>(),</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            $this-&gt;<a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a28b11045fe18a1223ab4f9768c6924f0">createMessageOperationMultiple</a>($credentials, $messages)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        );</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a82ac019d31b5f0eae7ef1eceed9b0ce6">  127</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a82ac019d31b5f0eae7ef1eceed9b0ce6">sendUnencrypted</a>(<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials, <a class="code" href="classDCorePHP_1_1Model_1_1ChainObject.html">ChainObject</a> $to, <span class="keywordtype">string</span> $message): ?<a class="code" href="classDCorePHP_1_1Model_1_1TransactionConfirmation.html">TransactionConfirmation</a></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">return</span> $this-&gt;dcoreApi-&gt;getBroadcastApi()-&gt;broadcastOperationWithECKeyPairWithCallback(</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            $credentials-&gt;<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html#a3f68f978b08c47a25bb719bad423dafb">getKeyPair</a>(),</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            $this-&gt;<a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a891e86041da86bab52a049ccf2a9472a">createMessageOperationUnencrypted</a>($credentials, $to, $message)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        );</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#aa9951a44c1b9f208c42ba03cdb610175">  138</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#aa9951a44c1b9f208c42ba03cdb610175">sendUnencryptedMultiple</a>(<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html">Credentials</a> $credentials, array $messages): ?<a class="code" href="classDCorePHP_1_1Model_1_1TransactionConfirmation.html">TransactionConfirmation</a></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">return</span> $this-&gt;dcoreApi-&gt;getBroadcastApi()-&gt;broadcastOperationWithECKeyPairWithCallback(</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            $credentials-&gt;<a class="code" href="classDCorePHP_1_1Crypto_1_1Credentials.html#a3f68f978b08c47a25bb719bad423dafb">getKeyPair</a>(),</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            $this-&gt;<a class="code" href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a52914fa411845e34b76a48933d0ad323">createMessageOperationUnencryptedMultiple</a>($credentials, $messages)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        );</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keyword">private</span> <span class="keyword">function</span> flattenMessageResponses(array $messageResponses): array {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        $result = [];</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">foreach</span> ($messageResponses as $messageResponse) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="classDCorePHP_1_1Model_1_1Messaging_1_1Message.html#a64040ffe9d07cc99baa79de54ae0fd69">Message::create</a>($messageResponse) as $message) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                $result[] = $message;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> $result;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">private</span> <span class="keyword">function</span> decryptMessages(array $messages, Credentials $credentials): array {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">return</span> array_map(<span class="keyword">function</span> (Message $message) use($credentials) {<span class="keywordflow">return</span> $message-&gt;decrypt($credentials);}, $messages);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_a2f22e208f8ea9b0154c395d4c41dc1c8"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a2f22e208f8ea9b0154c395d4c41dc1c8">DCorePHP\Sdk\MessagingApi\getAllDecryptedForReceiver</a></div><div class="ttdeci">getAllDecryptedForReceiver(Credentials $credentials, int $maxCount=1000)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00059">MessagingApi.php:59</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_a891e86041da86bab52a049ccf2a9472a"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a891e86041da86bab52a049ccf2a9472a">DCorePHP\Sdk\MessagingApi\createMessageOperationUnencrypted</a></div><div class="ttdeci">createMessageOperationUnencrypted(Credentials $credentials, ChainObject $to, string $message)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00083">MessagingApi.php:83</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html">DCorePHP\Sdk\MessagingApi</a></div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00015">MessagingApi.php:15</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Model_1_1TransactionConfirmation_html"><div class="ttname"><a href="classDCorePHP_1_1Model_1_1TransactionConfirmation.html">DCorePHP\Model\TransactionConfirmation</a></div><div class="ttdef"><b>Definition:</b> <a href="TransactionConfirmation_8php_source.html#l00005">TransactionConfirmation.php:5</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_a51b1942a22fe0cfb47f91b9baf7671b6"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a51b1942a22fe0cfb47f91b9baf7671b6">DCorePHP\Sdk\MessagingApi\sendMultiple</a></div><div class="ttdeci">sendMultiple(Credentials $credentials, array $messages)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00116">MessagingApi.php:116</a></div></div>
<div class="ttc" id="interfaceDCorePHP_1_1Sdk_1_1MessagingApiInterface_html"><div class="ttname"><a href="interfaceDCorePHP_1_1Sdk_1_1MessagingApiInterface.html">DCorePHP\Sdk\MessagingApiInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="MessagingApiInterface_8php_source.html#l00012">MessagingApiInterface.php:12</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_ae3972a04b05c6c00500767efcdeaec41"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#ae3972a04b05c6c00500767efcdeaec41">DCorePHP\Sdk\MessagingApi\createMessageOperation</a></div><div class="ttdeci">createMessageOperation(Credentials $credentials, ChainObject $to, string $message)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00067">MessagingApi.php:67</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Model_1_1Operation_1_1SendMessageOperation_html"><div class="ttname"><a href="classDCorePHP_1_1Model_1_1Operation_1_1SendMessageOperation.html">DCorePHP\Model\Operation\SendMessageOperation</a></div><div class="ttdef"><b>Definition:</b> <a href="SendMessageOperation_8php_source.html#l00008">SendMessageOperation.php:8</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Crypto_1_1Credentials_html"><div class="ttname"><a href="classDCorePHP_1_1Crypto_1_1Credentials.html">DCorePHP\Crypto\Credentials</a></div><div class="ttdef"><b>Definition:</b> <a href="Credentials_8php_source.html#l00007">Credentials.php:7</a></div></div>
<div class="ttc" id="namespaceDCorePHP_1_1Sdk_html"><div class="ttname"><a href="namespaceDCorePHP_1_1Sdk.html">DCorePHP\Sdk</a></div><div class="ttdef"><b>Definition:</b> <a href="AccountApi_8php_source.html#l00003">AccountApi.php:3</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Model_1_1Messaging_1_1Message_html"><div class="ttname"><a href="classDCorePHP_1_1Model_1_1Messaging_1_1Message.html">DCorePHP\Model\Messaging\Message</a></div><div class="ttdef"><b>Definition:</b> <a href="Message_8php_source.html#l00014">Message.php:14</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Crypto_1_1Credentials_html_a93df7e86089f274b0a89d97ba8ab1b9b"><div class="ttname"><a href="classDCorePHP_1_1Crypto_1_1Credentials.html#a93df7e86089f274b0a89d97ba8ab1b9b">DCorePHP\Crypto\Credentials\getAccount</a></div><div class="ttdeci">getAccount()</div><div class="ttdef"><b>Definition:</b> <a href="Credentials_8php_source.html#l00028">Credentials.php:28</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_a23f462e2a39deb6d9cf30ad13cde6e80"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a23f462e2a39deb6d9cf30ad13cde6e80">DCorePHP\Sdk\MessagingApi\send</a></div><div class="ttdeci">send(Credentials $credentials, ChainObject $to, string $message)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00105">MessagingApi.php:105</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Model_1_1Messaging_1_1MessagePayload_html"><div class="ttname"><a href="classDCorePHP_1_1Model_1_1Messaging_1_1MessagePayload.html">DCorePHP\Model\Messaging\MessagePayload</a></div><div class="ttdef"><b>Definition:</b> <a href="MessagePayload_8php_source.html#l00009">MessagePayload.php:9</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1BaseApi_html"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1BaseApi.html">DCorePHP\Sdk\BaseApi</a></div><div class="ttdef"><b>Definition:</b> <a href="BaseApi_8php_source.html#l00008">BaseApi.php:8</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_a8613176d3261d72102a3035fa719ff05"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a8613176d3261d72102a3035fa719ff05">DCorePHP\Sdk\MessagingApi\getAllDecryptedForSender</a></div><div class="ttdeci">getAllDecryptedForSender(Credentials $credentials, int $maxCount=1000)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00051">MessagingApi.php:51</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Crypto_1_1Credentials_html_a3f68f978b08c47a25bb719bad423dafb"><div class="ttname"><a href="classDCorePHP_1_1Crypto_1_1Credentials.html#a3f68f978b08c47a25bb719bad423dafb">DCorePHP\Crypto\Credentials\getKeyPair</a></div><div class="ttdeci">getKeyPair()</div><div class="ttdef"><b>Definition:</b> <a href="Credentials_8php_source.html#l00052">Credentials.php:52</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_a28b11045fe18a1223ab4f9768c6924f0"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a28b11045fe18a1223ab4f9768c6924f0">DCorePHP\Sdk\MessagingApi\createMessageOperationMultiple</a></div><div class="ttdeci">createMessageOperationMultiple(Credentials $credentials, array $messages)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00075">MessagingApi.php:75</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_aa9951a44c1b9f208c42ba03cdb610175"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#aa9951a44c1b9f208c42ba03cdb610175">DCorePHP\Sdk\MessagingApi\sendUnencryptedMultiple</a></div><div class="ttdeci">sendUnencryptedMultiple(Credentials $credentials, array $messages)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00138">MessagingApi.php:138</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Model_1_1ChainObject_html"><div class="ttname"><a href="classDCorePHP_1_1Model_1_1ChainObject.html">DCorePHP\Model\ChainObject</a></div><div class="ttdef"><b>Definition:</b> <a href="ChainObject_8php_source.html#l00011">ChainObject.php:11</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_a7a8462da0af9011058f9b0869700b97b"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a7a8462da0af9011058f9b0869700b97b">DCorePHP\Sdk\MessagingApi\getAll</a></div><div class="ttdeci">getAll(ChainObject $sender=null, ChainObject $receiver=null, int $maxCount=1000)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00031">MessagingApi.php:31</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Model_1_1Messaging_1_1MessageResponse_html"><div class="ttname"><a href="classDCorePHP_1_1Model_1_1Messaging_1_1MessageResponse.html">DCorePHP\Model\Messaging\MessageResponse</a></div><div class="ttdef"><b>Definition:</b> <a href="MessageResponse_8php_source.html#l00008">MessageResponse.php:8</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Model_1_1ChainObject_html_af887a8cb46a64cb687987b39d301f0e4"><div class="ttname"><a href="classDCorePHP_1_1Model_1_1ChainObject.html#af887a8cb46a64cb687987b39d301f0e4">DCorePHP\Model\ChainObject\getId</a></div><div class="ttdeci">getId()</div><div class="ttdef"><b>Definition:</b> <a href="ChainObject_8php_source.html#l00041">ChainObject.php:41</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Net_1_1Model_1_1Request_1_1Messaging_html"><div class="ttname"><a href="classDCorePHP_1_1Net_1_1Model_1_1Request_1_1Messaging.html">DCorePHP\Net\Model\Request\Messaging</a></div><div class="ttdef"><b>Definition:</b> <a href="Messaging_8php_source.html#l00007">Messaging.php:7</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Net_1_1Model_1_1Request_1_1GetMessageObjects_html"><div class="ttname"><a href="classDCorePHP_1_1Net_1_1Model_1_1Request_1_1GetMessageObjects.html">DCorePHP\Net\Model\Request\GetMessageObjects</a></div><div class="ttdef"><b>Definition:</b> <a href="GetMessageObjects_8php_source.html#l00011">GetMessageObjects.php:11</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_ae03e57246dc089b530516629620ce834"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#ae03e57246dc089b530516629620ce834">DCorePHP\Sdk\MessagingApi\getAllOperations</a></div><div class="ttdeci">getAllOperations(ChainObject $sender=null, ChainObject $receiver=null, int $maxCount=1000)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00020">MessagingApi.php:20</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_a0bf6e30c562a274c6ac7cf8bb6f94cb9"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a0bf6e30c562a274c6ac7cf8bb6f94cb9">DCorePHP\Sdk\MessagingApi\getAllDecrypted</a></div><div class="ttdeci">getAllDecrypted(Credentials $credentials, ChainObject $sender=null, ChainObject $receiver=null, int $maxCount=1000)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00039">MessagingApi.php:39</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_a52914fa411845e34b76a48933d0ad323"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a52914fa411845e34b76a48933d0ad323">DCorePHP\Sdk\MessagingApi\createMessageOperationUnencryptedMultiple</a></div><div class="ttdeci">createMessageOperationUnencryptedMultiple(Credentials $credentials, array $messages)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00094">MessagingApi.php:94</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Sdk_1_1MessagingApi_html_a82ac019d31b5f0eae7ef1eceed9b0ce6"><div class="ttname"><a href="classDCorePHP_1_1Sdk_1_1MessagingApi.html#a82ac019d31b5f0eae7ef1eceed9b0ce6">DCorePHP\Sdk\MessagingApi\sendUnencrypted</a></div><div class="ttdeci">sendUnencrypted(Credentials $credentials, ChainObject $to, string $message)</div><div class="ttdef"><b>Definition:</b> <a href="MessagingApi_8php_source.html#l00127">MessagingApi.php:127</a></div></div>
<div class="ttc" id="classDCorePHP_1_1Model_1_1Messaging_1_1Message_html_a64040ffe9d07cc99baa79de54ae0fd69"><div class="ttname"><a href="classDCorePHP_1_1Model_1_1Messaging_1_1Message.html#a64040ffe9d07cc99baa79de54ae0fd69">DCorePHP\Model\Messaging\Message\create</a></div><div class="ttdeci">static create(MessageResponse $response)</div><div class="ttdef"><b>Definition:</b> <a href="Message_8php_source.html#l00058">Message.php:58</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
